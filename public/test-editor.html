<!DOCTYPE html>
<html>
<head>
    <title>WordPress Editor Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .editor-container { border: 1px solid #ccc; padding: 10px; margin: 10px 0; }
        .toolbar { margin: 10px 0; }
        .toolbar button { margin: 5px; padding: 5px 10px; }
        textarea { width: 100%; height: 200px; }
    </style>
</head>
<body>
    <h1>WordPress Editor Test</h1>
    
    <div class="toolbar">
        <button onclick="toggleFormat('bold')">Bold</button>
        <button onclick="toggleFormat('italic')">Italic</button>
        <button onclick="toggleFormat('underline')">Underline</button>
        <button onclick="setAlignment('left')">Left</button>
        <button onclick="setAlignment('center')">Center</button>
        <button onclick="setAlignment('right')">Right</button>
        <button onclick="toggleList('ul')">Bullet List</button>
        <button onclick="toggleList('ol')">Numbered List</button>
        <button onclick="setHeading('h1')">H1</button>
        <button onclick="setHeading('h2')">H2</button>
    </div>
    
    <div class="editor-container">
        <textarea id="tinymce-editor-test" placeholder="Type here to test the editor..."></textarea>
        <input type="hidden" name="test" value="" />
    </div>
    
    <div>
        <h3>Test Results:</h3>
        <div id="test-results"></div>
    </div>
    
    <script src="/js/wordpress-style-editor.js"></script>
    <script>
        // Test functions
        function runTests() {
            const results = document.getElementById('test-results');
            let html = '<ul>';
            
            // Test global functions
            if (typeof window.toggleFormat === 'function') {
                html += '<li style="color: green;">‚úÖ toggleFormat function exists (isolated)</li>';
            } else {
                html += '<li style="color: red;">‚ùå toggleFormat function not found</li>';
            }
            
            if (typeof window.setAlignment === 'function') {
                html += '<li style="color: green;">‚úÖ setAlignment function exists (isolated)</li>';
            } else {
                html += '<li style="color: red;">‚ùå setAlignment function not found</li>';
            }
            
            if (typeof window.toggleList === 'function') {
                html += '<li style="color: green;">‚úÖ toggleList function exists (isolated)</li>';
            } else {
                html += '<li style="color: red;">‚ùå toggleList function not found</li>';
            }
            
            if (typeof window.setHeading === 'function') {
                html += '<li style="color: green;">‚úÖ setHeading function exists (isolated)</li>';
            } else {
                html += '<li style="color: red;">‚ùå setHeading function not found</li>';
            }
            
            if (typeof window.insertImage === 'function') {
                html += '<li style="color: green;">‚úÖ insertImage function exists (isolated)</li>';
            } else {
                html += '<li style="color: red;">‚ùå insertImage function not found</li>';
            }
            
            // Test for conflicts
            html += '<li style="color: blue;">üîç Checking for conflicts...</li>';
            
            // Check if other editors are loaded
            if (typeof window.quillEditor !== 'undefined') {
                html += '<li style="color: orange;">‚ö†Ô∏è Quill editor detected (may cause conflicts)</li>';
            }
            
            html += '</ul>';
            results.innerHTML = html;
        }
        
        // Run tests when page loads
        window.addEventListener('load', function() {
            setTimeout(runTests, 1000); // Wait 1 second for scripts to load
        });
        
        // Add test button
        document.addEventListener('DOMContentLoaded', function() {
            const toolbar = document.querySelector('.toolbar');
            const testButton = document.createElement('button');
            testButton.textContent = 'Run Tests';
            testButton.onclick = runTests;
            toolbar.appendChild(testButton);
        });
    </script>
</body>
</html>